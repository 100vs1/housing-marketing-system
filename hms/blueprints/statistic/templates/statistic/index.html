{% extends 'layouts/app.html' %}

{% block title %}Housing Marketing System{% endblock %}
{% block meta_description %}Compete against yourself and others by guessing the
outcome of a dice roll. Win points and dominate the leaderboard.{% endblock %}

{% block body %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.2/themes/default/style.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<style type="text/css">
    #tree-div{
        height: 770px;
        overflow: scroll;
    }

    #table-view-div{
        height: 800px;
    }

    #mdl-progress {
        /*right: 20.7%;*/
        top : 50%;
        left: 50%;
        transform: translate(-50%,-30%);
    }
</style>

<div id="mdl-progress" class="modal js-loading-bar" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                데이터 요청중 ...
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div id="data-progress" class="progress-bar progress-bar-info progress-bar-striped active"
                         role="progressbar" aria-valuenow="0"
                         aria-valuemin="0" aria-valuemax="100" style="width:0%">
                    </div>
                </div>
                <div id="data-status" class="text-center">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        <div class="row">
            <div class="col-md-1">
            </div>
            <div class="col-md-8">
                <input id="search-input" class="form-control input-sm" placeholder="검색어">
            </div>
            <div class="col-md-3">
                <button id="btn-all-close" class="btn btn-default btn-sm" type="button">
                    <i class="fa fa-angle-double-left"></i>
                </button>
                <button id="btn-all-open" class="btn btn-default btn-sm" type="button">
                    <i class="fa fa-angle-double-right"></i>
                </button>
            </div>
        </div>
        <div id="tree-div" class="tree-div">
        </div>
    </div>
    <div id="table-view-div" class="col-md-9">
        <div id="table-view-title" class="alert alert-info">
            데이터 셋을 선택해주세요
        </div>
        <div class="row">
            <div class="col-md-1">
                <div sty>
                    <span>검색일자</span>
                </div>
            </div>
            <div class="col-md-4">
                <select id="start-date" class="selectpicker" title="시작일자"
                        data-actions-box="true" data-width="30%" data-container="body">
                    <option value="false">데이터 셋을 선택해주세요.</option>
                </select>
                ~
                <select id="end-date" class="selectpicker" title="종료일자"
                        data-actions-box="true" data-width="30%" data-container="body">
                    <option value="false">데이터 셋을 선택해주세요.</option>
                </select>
            </div>
            <div class="col-md-1">
                양식
            </div>
            <div class="col-md-3">
                <select id="style_number" class="selectpicker" title="양식"
                        data-actions-box="true" data-width="40%" data-container="body">
                    <option value="false">데이터 셋을 선택해주세요.</option>
                </select>
            </div>
            <div class="col-md-1">
                <button id="btn-search-data" class="btn btn-default" type="button">
                    검색
                </button>
            </div>
            <div id="table-unit" class="col-md-2">
            </div>
        </div>
        <div class="row">
            <div id="table-div">
                <table id="list"></table>
            </div>
        </div>
    </div>
</div>


<script>
    // function move() {
    //     let elem = document.getElementById("data-progress");
    //     let width = 1;
    //     let id = setInterval(frame, 0);
    //
    //     function frame() {
    //         if (width >= 100) {
    //             clearInterval(id);
    //         } else {
    //             width++;
    //             elem.style.width = width + '%';
    //             $(elem).html(width + "%");
    //         }
    //     }
    // }
    //
    // move()

    // $('#mdl-progress').modal({
    //     backdrop: 'static',
    //     keyboard: false
    // })

    let getDataFlag = false;
    let targetText = '';
    let treeId = '';
    let formId = '';
    let styleNum = [];
    let targetDate = {};

    let $treeDiv = $('#tree-div');

    let nooriConfig = [
            {"id": "stats00", "parent": "#", "text": "통계누리"},
            // 국토/도시
            {"id": "stats00_001", "parent": "stats00", "text": "국토/도시"},
            // 국토/도시 -> 건축물통계
            {"id": "stats00_001_001", "parent": "stats00_001", "text": "건축물통계"},
            // 국토/도시 -> 건축물통계 -> 용도별 건축물 현황
            {"id": "stats00_001_001_001", "parent": "stats00_001_001", "text": "용도별 건축물 현황", "attr": {"form_id": 522, "style_num": [96], "target_date":{"96":[2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005]},"colNames":["년","시도명","계","주거용","상업용","공업용","문교사회용","기타"],"colModel":[{"name":"date"},{"name":"시도명"},{"name":"계"},{"name":"주거용"},{"name":"상업용"},{"name":"공업용"},{"name":"문교사회용"},{"name":"기타"}]}},

            // 주택
            {"id": "stats00_002", "parent": "stats00", "text": "주택"},
            // 주택 -> 주택보급률
            {"id": "stats00_002_001", "parent": "stats00_002", "text": "건축물통계"},

            {"id": "stats00_002_001_001", "parent": "stats00_002_001", "text": "(新)주택보급률", "attr": {"form_id": 2100, "style_num": [1], "target_date":{"1":[2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005]},"colNames":["년","구분","가구수","주택수","보급률","가구수(등록센서스)","주택수(등록센서스)","보급률(등록센서스)"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"가구수"},{"name":"주택수"},{"name":"보급률"},{"name":"가구수(등록센서스)"},{"name":"주택수(등록센서스)"},{"name":"보급률(등록센서스)"}]}},
            {"id": "stats00_002_001_002", "parent": "stats00_002_001", "text": "(종전)주택보급률", "attr": {"form_id": 592, "style_num": [672], "target_date":{"672":[2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2000,1995]},"colNames":["년","구분","가구수","주택수","보급률"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"가구수"},{"name":"주택수"},{"name":"보급률"}]}},
            {"id": "stats00_002_001_003", "parent": "stats00_002_001", "text": "인구천인당 주택수", "attr": {"form_id": 594, "style_num": [1], "target_date":{"1":[2016,2015,2010,2005,2000,1995]},"ColNames":["년","구분","인구수","주택수","천인당 주택수","인구수","주택수(구분거처반영","천인당 주택수"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"인구수"},{"name":"주택수"},{"name":"천인당 주택수"},{"name":"인구수"},{"name":"주택수(구분거처반영)"},{"name":"천인당 주택수"}]}},

            // 주택 -> 미분양주택현황보고
            {"id": "stats00_002_002", "parent": "stats00_002", "text": "미분양주택현황보고"},
            {"id": "stats00_002_002_001", "parent": "stats00_002_002", "text": "규모별 미분양현황", "attr": {"form_id": 2080, "style_num": [1], "target_date":{"1":[201712,201711,201710,201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701]},"colNames":["월","시도","부문","규모","호"],"colModel":[{"name":"date"},{"name":"시도"},{"name":"부문"},{"name":"규모"},{"name":"호"}]}},
            {"id": "stats00_002_002_002", "parent": "stats00_002_002", "text": "시·군·구별 미분양현황", "attr": {"form_id": 2082, "style_num": [128], "target_date":{"128":[201712,201711,201710,201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200512,200412,200312,200212,200112,200012]},"colNames":["월","구분","시군구","미분양현황"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"시군구"},{"name":"미분양현황"}]}},
            {"id": "stats00_002_002_003", "parent": "stats00_002_002", "text": "미분양현황 종합", "attr": {"form_id": 2086, "style_num": [713], "target_date":{"713":[2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001]},"colNames":["년","대분류","구분","미분양(12월기준)"],"colModel":[{"name":"date"},{"name":"대분류"},{"name":"구분"},{"name":"미분양(12월기준)"}]}},
            {"id": "stats00_002_002_004", "parent": "stats00_002_002", "text": "공사완료후 미분양현황", "attr": {"form_id": 5328, "style_num": [1], "target_date":{"1":[201712,201711,201710,201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701]},"colNames":["월","구분","시군구","부문","규모","호"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"시군구"},{"name":"부문"},{"name":"규모"},{"name":"호"}]}},

            // 주택 -> 주거실태조사
            {"id": "stats00_002_003", "parent": "stats00_002", "text": "주거실태조사"},
            {"id": "stats00_002_003_001", "parent": "stats00_002_003", "text": "(일반가구)행정구역별 점유형태", "attr": {"form_id": 5402, "style_num": [1], "target_date":{"1":[2016,2014,2012,2010,2008,2006]},"colNames":["년","구분","계","자가","전세","보증금 있는 월세","보증금 없는 월세","사글세","무상"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"계"},{"name":"자가"},{"name":"전세"},{"name":"보증금 있는 월세"},{"name":"보증금 없는 월세"},{"name":"사글세"},{"name":"무상"}]}},
            {"id": "stats00_002_003_002", "parent": "stats00_002_003", "text": "(일반가구)행정구역별 주택유형", "attr": {"form_id": 5403, "style_num": [1], "target_date":{"1":[2016,2014,2012,2010,2008,2006]},"colNames":["년","구분","계","단독주택","아파트","연립주택","다세대주택","비거주용 건물내주택","주택이외의 거처"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"계"},{"name":"단독주택"},{"name":"아파트"},{"name":"연립주택"},{"name":"다세대주택"},{"name":"비거주용 건물내주택"},{"name":"주택이외의 거처"}]}},
            {"id": "stats00_002_003_003", "parent": "stats00_002_003", "text": "(일반가구)지역별 소득계층별 점유형태", "attr": {"form_id": 5405, "style_num": [1], "target_date":{"1":[2016,2014,2012,2010,2008,2006]},"colNames":["년","시도구분","소득구분","자가","전세","보증부 월세","월세","사글세","무상","계"],"colModel":[{"name":"date"},{"name":"시도구분"},{"name":"소득구분"},{"name":"자가"},{"name":"전세"},{"name":"보증부 월세"},{"name":"월세"},{"name":"사글세"},{"name":"무상"},{"name":"계"}]}},
            {"id": "stats00_002_003_004", "parent": "stats00_002_003", "text": "(일반가구)지역별 소득계층별 주택유형", "attr": {"form_id": 5727, "style_num": [1], "target_date":{"1":[2016,2014,2012,2010,2008,2006]},"colNames":["년","시도구분","소득구분","단독주택","아파트","연립주택","다세대주택","비거주용 건물내주택","주택이외의 거처"," 계"],"colModel":[{"name":"date"},{"name":"시도구분"},{"name":"소득구분"},{"name":"단독주택"},{"name":"아파트"},{"name":"연립주택"},{"name":"다세대주택"},{"name":"비거주용 건물내주택"},{"name":"주택이외의 거처"},{"name":" 계"}]}},

            // 주택 -> 아파트주거환경통계
            {"id": "stats00_002_004", "parent": "stats00_002", "text": "아파트주거환경통계"},
            {"id": "stats00_002_004_001", "parent": "stats00_002_004", "text": "준공연도별 규모현황", "attr": {"form_id": 690, "style_num": [280], "target_date":{"280":[2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2000,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985,1984,1983,1982,1981,1980,1979,1978,1977,1976,1975,1974,1973,1972,1971,1970,1965,1960,1955,1950,1945,1940]},"colNames":["년","규모","%"],"colModel":[{"name":"date"},{"name":"규모"},{"name":"%"}]}},

            // 주택 -> 공동주택현황
            {"id": "stats00_002_005", "parent": "stats00_002", "text": "공동주택현황"},
            {"id": "stats00_002_005_001", "parent": "stats00_002_005", "text":"공동주택현황", "attr": {"form_id": 5882, "style_num": [1], "target_date":{"1":[201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401]},"colNames":["월","구분","단지수","동수","세대수"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"단지수"},{"name":"동수"},{"name":"세대수"}]}},

            // 주택 -> 공동주택 매매 실거래가격지수
            {"id": "stats00_002_006", "parent": "stats00_002", "text": "공동주택 매매 실거래가격지수"},
            {"id": "stats00_002_006_001", "parent": "stats00_002_006", "text": "아파트실거래가격지수", "attr": {"form_id": 5308, "style_num": [4,3], "target_date":{"4":[201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411],"3":[201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303]},"colNames":["월","구분","전국(Nationwide)","수도권(Seoul Metropolitan Area)","지방(Non-Seoul Metropolitan Area)","서울","도심권","동북권","동남권","서북권","서남권","부산","대구","인천","광주","대전","울산","세종","경기","강원","충북","충남","전북","전남","경북","경남","제주","광역시(6 Large Cities)","지방광역시(5 large Cities)","지방도(8 Provinces)"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"전국(Nationwide)"},{"name":"수도권(Seoul Metropolitan Area)"},{"name":"지방(Non-Seoul Metropolitan Area)"},{"name":"서울"},{"name":"도심권"},{"name":"동북권"},{"name":"동남권"},{"name":"서북권"},{"name":"서남권"},{"name":"부산"},{"name":"대구"},{"name":"인천"},{"name":"광주"},{"name":"대전"},{"name":"울산"},{"name":"세종"},{"name":"경기"},{"name":"강원"},{"name":"충북"},{"name":"충남"},{"name":"전북"},{"name":"전남"},{"name":"경북"},{"name":"경남"},{"name":"제주"},{"name":"광역시(6 Large Cities)"},{"name":"지방광역시(5 large Cities)"},{"name":"지방도(8 Provinces)"}]}},
            {"id": "stats00_002_006_002", "parent": "stats00_002_006", "text": "규모별 아파트실거래 가격지수", "attr": {"form_id": 5375, "style_num": [2,1], "target_date":{"2":[201705,201704],"1":[201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303]}, "colNames":["월","구분","초소형","소형","중소형","중대형","대형"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"초소형"},{"name":"소형"},{"name":"중소형"},{"name":"중대형"},{"name":"대형"}]}},
            {"id": "stats00_002_006_003", "parent": "stats00_002_006", "text": "연립 다세대 실거래 가격지수", "attr": {"form_id": 5923, "style_num": [1], "target_date":{"1":[201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603]},"colNames":["월","구분","전국","수도권","지방","광역시","지방광역시","지방도"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"전국"},{"name":"수도권"},{"name":"지방"},{"name":"광역시"},{"name":"지방광역시"},{"name":"지방도"}]}},
            {"id": "stats00_002_006_004", "parent": "stats00_002_006", "text": "규모별 연립 다세대 실거래 가격지수", "attr": {"form_id": 5924, "style_num": [1], "target_date":{"1":[201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603]},"colNames":["월","구분","60㎡ 이하","60㎡ 초과"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"60㎡ 이하"},{"name":"60㎡ 초과"}]}},


            // 주택 -> 주택건설실적통계(착공)
            {"id": "stats00_002_007", "parent": "stats00_002", "text": "주택건설실적통계(착공)"},
            {"id": "stats00_002_007_001", "parent": "stats00_002_007", "text": "주택착공실적_월계", "attr": {"form_id": 5386, "style_num": [1], "target_date":{"1":[201712,201711,201710,201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101]},"colNames":["월","구분","부문명","시도별","착공실적"],"colModel":[{"name":"date"},{"name":"구  분"},{"name":"부문명"},{"name":"시도별"},{"name":"착공실적"}]}},
            {"id": "stats00_002_007_002", "parent": "stats00_002_007", "text": "전용면적별 착공실적_월계", "attr": {"form_id": 5388, "style_num": [1], "target_date":{"1":[201712,201711,201710,201709,201708,201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101]},"colNames":["월","구분","규모별","착공실적"],"colModel":[{"name":"date"},{"name":"구  분"},{"name":"규모별"},{"name":"착공실적"}]}},

            // 주택 -> 전국주택가격동향조사
            {"id": "stats00_002_008", "parent": "stats00_002", "text": "전국주택가격동향조사"},
            {"id": "stats00_002_008_001", "parent": "stats00_002_008", "text": "규모별 아파트 매매가격지수", "attr": {"form_id": 5542, "style_num": [1], "target_date":{"1":[201706,201705,201704,201703,201702,200204]},"colNames":["월","지역1","지역2","주택규모","지수"],"colModel":[{"name":"date"},{"name":"지역1"},{"name":"지역2"},{"name":"주택규모"},{"name":"지수"}]}},
            {"id": "stats00_002_008_002", "parent": "stats00_002_008", "text": "규모별 아파트 전세가격지수", "attr": {"form_id": 5543, "style_num": [1], "target_date":{"1":[201706,201705,201704,201703,201702,201701]},"colNames":["월","지역1","지역2","주택규모","지수"],"colModel":[{"name":"date"},{"name":"지역1"},{"name":"지역2"},{"name":"주택규모"},{"name":"지수"}]}},
            {"id": "stats00_002_008_003", "parent": "stats00_002_008", "text": "연령별 아파트매매가격지수", "attr": {"form_id": 5544, "style_num": [1], "target_date":{"1":[201706,201705,201704,201703,201702,201701]},"colNames":["월","지역1","지역2","건축연령","지수"],"colModel":[{"name":"date"},{"name":"지역1"},{"name":"지역2"},{"name":"건축연령"},{"name":"지수"}]}},
            {"id": "stats00_002_008_004", "parent": "stats00_002_008", "text": "연령별 아파트전세가격지수", "attr": {"form_id": 5545, "style_num": [1], "target_date":{"1":[201706,201705,201704,201703,201702,201701]},"colNames":["월","지역1","지역2","건축연령","지수"],"colModel":[{"name":"date"},{"name":"지역1"},{"name":"지역2"},{"name":"건축연령"},{"name":"지수"}]}},
            {"id": "stats00_002_008_005", "parent": "stats00_002_008", "text": "종합 매매가격 대비 전세가격", "attr": {"form_id": 5548, "style_num": [1], "target_date":{"1":[201706,201705,201704,201703,201702,201701]},"colNames":["월","지역1","지역2","중위/평균","지수"],"colModel":[{"name":"date"},{"name":"지역1"},{"name":"지역2"},{"name":"중위/평균"},{"name":"지수"}]}},

            // 주택 -> 공동주택 분양승인 실적
            {"id": "stats00_002_009", "parent": "stats00_002", "text": "공동주택 분양승인 실적"},
            {"id": "stats00_002_009_001", "parent": "stats00_002_009", "text": "공동주택 분양승인 실적", "attr": {"form_id": 5557, "style_num": [1], "target_date":{"1":[201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301]},"colNames":["월","구분1","구분2","합계","분양","임대","조합"],"colModel":[{"name":"date"},{"name":"구분1"},{"name":"구분2"},{"name":"합계"},{"name":"분양"},{"name":"임대"},{"name":"조합"}]}},

            // 주택 -> 도시형생활주택 인허가 실적
            {"id": "stats00_002_010", "parent": "stats00_002", "text": "도시형생활주택 인허가 실적"},
            {"id": "stats00_002_010_001", "parent": "stats00_002_010", "text": "도시형생활주택 인허가 실적", "attr": {"form_id": 5558, "style_num": [1], "target_date":{"1":[201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302]},"colNames":["월","구분","계","원룸형","단지형 다세대","단지형 연립"],"colModel":[{"name":"date"},{"name":"구분"},{"name":"계"},{"name":"원룸형"},{"name":"단지형 다세대"},{"name":"단지형 연립"}]}},

            // 주택 -> 상업용부동산 임대동향조사
            {"id": "stats00_002_011", "parent": "stats00_002", "text": "상업용부동산 임대동향조사"},
            {"id": "stats00_002_011_001", "parent": "stats00_002_011", "text":"오피스빌딩 기본정보", "attr": {"form_id":5686, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기 수치"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기 수치"}]}},
            {"id": "stats00_002_011_002", "parent": "stats00_002_011", "text":"오피스 임대가격지수", "attr": {"form_id":5687, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_003", "parent": "stats00_002_011", "text":"오피스 공실률_전체", "attr": {"form_id":5688, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_004", "parent": "stats00_002_011", "text":"오피스 임대료_전체", "attr": {"form_id":5689, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_005", "parent": "stats00_002_011", "text":"오피스 층별임대료_10층이하빌딩", "attr": {"form_id":5690, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_006", "parent": "stats00_002_011", "text":"오피스 층별임대료_11층이상빌딩", "attr": {"form_id":5691, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_007", "parent": "stats00_002_011", "text":"오피스 전환율", "attr": {"form_id":5692, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_008", "parent": "stats00_002_011", "text":"오피스 투자수익률", "attr": {"form_id":5693, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_009", "parent": "stats00_002_011", "text":"오피스 .순영업소득", "attr": {"form_id":5695, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_010", "parent": "stats00_002_011", "text":"중대형 상가 임대가격지수", "attr": {"form_id":5696, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_011", "parent": "stats00_002_011", "text":"중대형 상가 빌딩기본정보", "attr": {"form_id":5697, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_012", "parent": "stats00_002_011", "text":"중대형 상가 공실률", "attr": {"form_id":5698, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_013", "parent": "stats00_002_011", "text":"중대형 상가 임대료", "attr": {"form_id":5700, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_014", "parent": "stats00_002_011", "text":"중대형 상가 층별임대료", "attr": {"form_id":5701, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_015", "parent": "stats00_002_011", "text":"중대형 상가 전환율", "attr": {"form_id":5702, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_016", "parent": "stats00_002_011", "text":"중대형 상가 투자수익률", "attr": {"form_id":5703, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_017", "parent": "stats00_002_011", "text":"중대형 상가 순영업소득", "attr": {"form_id":5704, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_018", "parent": "stats00_002_011", "text":"오피스 규모별 공실률_서울광역상권별", "attr": {"form_id":5771, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","규모별","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"규모별"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_019", "parent": "stats00_002_011", "text":"오피스 규모별 임대료_서울광역상권별", "attr": {"form_id":5772, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","규모","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"규모"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_020", "parent": "stats00_002_011", "text":"오피스 층별임대료_전체", "attr": {"form_id":5773, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601,201504,201503,201502,201501,201404]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_021", "parent": "stats00_002_011", "text":"오피스 층별효용비율_전체", "attr": {"form_id":5774, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_022", "parent": "stats00_002_011", "text":"오피스 층별효용비율_10층 이하 오피스 빌딩", "attr": {"form_id":5775, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_023", "parent": "stats00_002_011", "text":"오피스 층별효용비율_11층이상빌딩", "attr": {"form_id":5776, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_024", "parent": "stats00_002_011", "text":"오피스통계별 표준오차", "attr": {"form_id":5777, "style_num": [1], "target_date":{"1":[201702,201701,201604]},"colNames":["분기","지역구분(1)","지역구분(2)","상대표준오차(cv, %)","표준오차"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"상대표준오차(cv, %)"},{"name":"표준오차"}]}},
            {"id": "stats00_002_011_025", "parent": "stats00_002_011", "text":"중대형 상가 층별효용비용", "attr": {"form_id":5779, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_026", "parent": "stats00_002_011", "text":"중대형 상가 통계별 표준오차", "attr": {"form_id":5780, "style_num": [1], "target_date":{"1":[201702,201701,201604]},"colNames":["분기","지역구분(1)","지역구분(2)","상대표준오차(cv, %)", "표준오차"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"상대표준오차(cv, %)"},{"name":"표준오차"}]}},
            {"id": "stats00_002_011_027", "parent": "stats00_002_011", "text":"소규모 상가 빌딩기본정보", "attr": {"form_id":5782, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_028", "parent": "stats00_002_011", "text":"소규모 상가 공실률", "attr": {"form_id":5783, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_029", "parent": "stats00_002_011", "text":"소규모 상가 임대료", "attr": {"form_id":5784, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_030", "parent": "stats00_002_011", "text":"소규모 상가 층별임대료", "attr": {"form_id":5785, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_031", "parent": "stats00_002_011", "text":"소규모 상가 층별효용비율", "attr": {"form_id":5786, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_032", "parent": "stats00_002_011", "text":"소규모 상가 전환율", "attr": {"form_id":5787, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_033", "parent": "stats00_002_011", "text":"소규모 상가 투자수익률", "attr": {"form_id":5788, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_034", "parent": "stats00_002_011", "text":"소규모 상가 순영업소득", "attr": {"form_id":5789, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_035", "parent": "stats00_002_011", "text":"소규모 상가 통계별 표준오차", "attr": {"form_id":5791, "style_num": [1], "target_date":{"1":[201702,201701,201603]},"colNames":["분기","지역구분(1)","지역구분(2)","표준오차"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"표준오차"}]}},
            {"id": "stats00_002_011_036", "parent": "stats00_002_011", "text":"집합 상가 기본정보", "attr": {"form_id":5792, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_037", "parent": "stats00_002_011", "text":"집합 상가 임대가격지수", "attr": {"form_id":5793, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_038", "parent": "stats00_002_011", "text":"집합 상가 임대료", "attr": {"form_id":5784, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"분기"}]}},
            {"id": "stats00_002_011_039", "parent": "stats00_002_011", "text":"집합 상가 층별임대료", "attr": {"form_id":5795, "style_num": [1], "target_date":{"1":[201702,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_040", "parent": "stats00_002_011", "text":"집합 상가 전환율", "attr": {"form_id":5796, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_041", "parent": "stats00_002_011", "text":"집합 상가 투자수익률", "attr": {"form_id":5797, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_042", "parent": "stats00_002_011", "text":"집합 상가 순영업소득", "attr": {"form_id":5798, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"항목"},{"name":"분기"}]}},
            {"id": "stats00_002_011_043", "parent": "stats00_002_011", "text":"집합 상가 통계별 표준오차", "attr": {"form_id":5800, "style_num": [1], "target_date":{"1":[201702,201701,201604]},"colNames":["분기","지역구분(1)","지역구분(2)","상대표준오차(cv, %)","표준오차"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"상대표준오차(cv, %)"},{"name":"표준오차"}]}},
            {"id": "stats00_002_011_044", "parent": "stats00_002_011", "text":"집합 상가 층별효용비율", "attr": {"form_id":6010, "style_num": [1], "target_date":{"1":[201702,201701,201604,201603,201602,201601]},"colNames":["분기","지역구분(1)","지역구분(2)","층구분(1)","항목","분기"],"colModel":[{"name":"date"},{"name":"지역구분(1)"},{"name":"지역구분(2)"},{"name":"층구분(1)"},{"name":"항목"},{"name":"분기"}]}},

            // 주택 -> 부동산 거래현황
            {"id": "stats00_002_012", "parent": "stats00_002", "text": "부동산 거래현황"},
            {"id": "stats00_002_012_001", "parent": "stats00_002_012", "text":"아파트거래_월별 거래주체별", "attr": {"form_id":5827, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","거래주체(1)","거래주체(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"거래주체(1)"},{"name":"거래주체(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_002", "parent": "stats00_002_012", "text":"아파트거래_월별 거래규모별", "attr": {"form_id":5828, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","거래규모(1)","거래규모(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"거래규모(1)"},{"name":"거래규모(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_003", "parent": "stats00_002_012", "text":"아파트거래_월별 거래원인별", "attr": {"form_id":5829, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","거래원인(1)","거래원인(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"거래원인(1)"},{"name":"거래원인(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_004", "parent": "stats00_002_012", "text":"아파트매매거래_월별 거래규모별", "attr": {"form_id":5851, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","거래규모(1)","거래규모(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"거래규모(1)"},{"name":"거래규모(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_005", "parent": "stats00_002_012", "text":"아파트거래_월별 매입자 거주지별", "attr": {"form_id":5864, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","매입자거주지(1)","매입자거주지(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"매입자거주지(1)"},{"name":"매입자거주지(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_006", "parent": "stats00_002_012", "text":"토지거래_월별 매입자거주지별", "attr": {"form_id":5868, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","면적(1)","필지(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"면적(1)"},{"name":"필지(1)"}]}},
            {"id": "stats00_002_012_007", "parent": "stats00_002_012", "text":"아파트매매거래_월별 매입자거주지별", "attr": {"form_id":5872, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","매입자거주지(1)","매입자거주지(2)","호수(1)","면적(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"매입자거주지(1)"},{"name":"매입자거주지(2)"},{"name":"호수(1)"},{"name":"면적(1)"}]}},
            {"id": "stats00_002_012_008", "parent": "stats00_002_012", "text":"아파트매매거래_월별 거래주체별", "attr": {"form_id":5873, "style_num": [1], "target_date":{"1":[201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901,200812,200811,200810,200809,200808,200807,200806,200805,200804,200803,200802,200801,200712,200711,200710,200709,200708,200707,200706,200705,200704,200703,200702,200701,200612,200611,200610,200609,200608,200607,200606,200605,200604,200603,200602,200601]},"colNames":["월","행정구역별(1)","행정구역별(2)","거래주체(1)","거래주체(2)","면적(1)","호수(1)"],"colModel":[{"name":"date"},{"name":"행정구역별(1)"},{"name":"행정구역별(2)"},{"name":"거래주체(1)"},{"name":"거래주체(2)"},{"name":"면적(1)"},{"name":"호수(1)"}]}},

            // 토지
            {"id": "stats00_003", "parent": "stats00", "text": "토지"},
            // 토지 ->  전국지가변동률
            {"id": "stats00_003_001", "parent": "stats00_003", "text": "전국지가변동률"},
            {"id": "stats00_003_001_001", "parent": "stats00_003_001", "text": "용도지역별 지가변동률", "attr": {"form_id": 1148, "style_num": [429,428], "target_date":{"429":[201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201609,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011,201010,201009,201008,201007,201006,201005,201004,201003,201002,201001,200912,200911,200910,200909,200908,200907,200906,200905,200904,200903,200902,200901],"428":[200804,200803,200802,200801,200704,200703,200702,200701,200604,200603,200602,200601,200504,200503,200502,200501,200404,200403,200402,200401,200304,200303,200302,200301,200204,200203,200202,200201,200104,200103,200102,200101,200004,200003,200002,200001,199904,199903,199902,199901]},"colNames":["월","평균","주거지역","상업지역","공업지역","녹지지역","관리지역","보전관리","생산관리.계획관리","농림지역","자연환경보전지역"],"colModel":[{"name":"date"},{"name":"평균"},{"name":"주거지역"},{"name":"상업지역"},{"name":"공업지역"},{"name":"녹지지역"},{"name":"관리지역"},{"name":"보전관리"},{"name":"생산관리.계획관리"},{"name":"농림지역"},{"name":"자연환경보전지역"}]}},
            {"id": "stats00_003_001_002", "parent": "stats00_003_001", "text": "전국지가변동률조사", "attr": {"form_id": 2060, "style_num": [425], "target_date":{"425":[201707,201706,201705,201704,201703,201702,201701,201612,201611,201610,201608,201607,201606,201605,201604,201603,201602,201601,201512,201511,201510,201509,201508,201507,201506,201505,201504,201503,201502,201501,201412,201411,201410,201409,201408,201407,201406,201405,201404,201403,201402,201401,201312,201311,201310,201309,201308,201307,201306,201305,201304,201303,201302,201301,201212,201211,201210,201209,201208,201207,201206,201205,201204,201203,201202,201201,201112,201111,201110,201109,201108,201107,201106,201105,201104,201103,201102,201101,201012,201011]},"colNames":["월","시도","행정구역","구분","누계","주거","상업","공업","녹지","보전관리","생산관리","계획관리","농림","자연환경보전","전","답","주거용_대","상업용_대","임야","공장","기타"],"colModel":[{"name":"date"},{"name":"시도"},{"name":"행정구역"},{"name":"구분"},{"name":"누계"},{"name":"주거"},{"name":"상업"},{"name":"공업"},{"name":"녹지"},{"name":"보전관리"},{"name":"생산관리"},{"name":"계획관리"},{"name":"농림"},{"name":"자연환경보전"},{"name":"전"},{"name":"답"},{"name":"주거용_대"},{"name":"상업용_대"},{"name":"임야"},{"name":"공장"},{"name":"기타"}]}},
        ];

    $treeDiv.jstree({
        "plugins": ["wholerow", "search", "changed", "types"],
        'core': {
            "data": nooriConfig
        }
    }).on('changed.jstree', function (e, data) {
        let nooriId = "stats00";
        let i, j = [];

        for (i = 0, j = data.selected.length; i < j; i++) {
            let target_data  = data.instance.get_node(data.selected[i]);

            if ((data.instance.get_node(data.selected[i]).id).indexOf(nooriId) >= 0) {

                if (target_data.original.attr) {
                    getDataFlag = true;
                    targetText = target_data.text;
                    treeId = target_data.id;
                    formId = target_data.original.attr.form_id;
                    styleNum = target_data.original.attr.style_num;
                    targetDate = target_data.original.attr.target_date;
                }
            }
        }
        if (getDataFlag) {
            setNooriTableUI();
        }
    });

    let findNooriDataById = function(id) {
        let ret = {};
        for (let i = 0; i < nooriConfig.length; i++) {
            if (nooriConfig[i].id === id) {
                ret =  nooriConfig[i];
                break;
            }
        }
        return ret;
    };

    let setNooriTableUI = function() {

        $('#table-div').html("<table id='list'></table>");
        $('#table-view-title').html(targetText);
        let dateOptions = "";
        let thisDate = targetDate[styleNum[0]];
        let dateforLength = thisDate.length;

        for (let i=0; i < dateforLength; i++) {
            dateOptions += `<option value="${thisDate[i]}">${thisDate[i]}</option>`;
        }

        let $startDateEL = $('#start-date');
        let $endDateEL = $('#end-date');


        $startDateEL.html(dateOptions).selectpicker('refresh');
        $endDateEL.html(dateOptions).selectpicker('refresh');
        $startDateEL.selectpicker('val', thisDate[0]);
        $endDateEL.selectpicker('val', thisDate[0]);

        let styleNumOptions = "";
        let numforLength = styleNum.length;
        for (let i=0; i < numforLength; i++) {
            styleNumOptions += `<option value="${styleNum[i]}">양식 ${styleNum[i]}</option>`;
        }

        let $styleNumber = $('#style_number');
        $styleNumber.html(styleNumOptions).selectpicker('refresh');
        $styleNumber.selectpicker('val', styleNum[0]);
        $('#table-unit').html("");
    };

    $("#btn-search-data").button().on('click', function () {

        if (getDataFlag) {
            $('#table-div').html("<table id='list'></table>");
            $('#' + 'mdl-progress').modal('show');
            let formIdParam = formId;
            let styleNumParam = $('#style_number').selectpicker('val');
            let startDateParam = $('#start-date').selectpicker('val');
            let endDateParam = $('#end-date').selectpicker('val');

            let treeData = findNooriDataById(treeId);
            let targetDateArr = treeData.attr.target_date[styleNumParam];

            let dateArr = [];
            if (startDateParam === endDateParam) {
                dateArr = [endDateParam];
            } else {
                dateArr = targetDateArr.slice(targetDateArr.indexOf(endDateParam * 1), targetDateArr.indexOf(startDateParam * 1) + 1);
            }

            let unitName = "";
            let formName = [];
            let resultList = [];
            let dateArrLength = dateArr.length;
            for (let i=0; i < dateArrLength; i++) {
                $.ajax({
                    method: 'GET',
                    url: '{{ url_for("statistic.get_noori_data") }}',
                    data: { form_id: formIdParam, style_num: styleNumParam, start_dt: dateArr[i], end_dt: dateArr[i]},
                    dataType: 'json'
                }).done(function (data) {
                    let result = data.result;

                    formName = result.data.formName;
                    unitName = result.data.unitName;
                    $.each(result.data.formList, function(i, item){
                        resultList.push(item);
                    });
                    // myList.push(result.data.formList);
                }).complete(function(){
                    let $dataProgressEL = $('#data-progress');
                    let $dataStatusEL = $('#data-status');

                    $dataProgressEL
                        .width((i / dateArrLength) * 100 + "%")
                        .html(((i / dateArrLength) * 100).toFixed(0) + "%" + "(" + i + "/" +  dateArrLength + ")");
                    $dataStatusEL.html(((i / dateArrLength) * 100).toFixed(0) + "%" + "(" + i + "/" +  dateArrLength + ")");

                    if (i + 1 === dateArrLength) {
                        //jqGrid껍데기 생성
                        $("#list").jqGrid({
                            datatype: "local",
                            height: 670,
                            width: 1450,
                            styleUI : 'Bootstrap',
                            colNames: treeData.attr.colNames,
                            colModel: treeData.attr.colModel,
                            autowidth: true
                            // rowNum: 10,
                            // pager: "#pager"
                        });
                        console.log(resultList);
                        for (let j = 0; j <= resultList.length; j++) {
                            // console.log(resultList[j]);
                            $("#list").jqGrid('addRowData', j + 1, resultList[j]);
                        }

                        $dataProgressEL
                            .width(100 + "%")
                            .html(100 + "%" + "(" + (i + 1) + "/" + dateArrLength + ")");
                        $dataStatusEL.html(100 + "%" + "(" + (i + 1) + "/" + dateArrLength + ")");

                        $('#' + 'mdl-progress').modal('hide');

                        $dataProgressEL.width(0 + "%");

                        $('#table-unit').html(`단위: ${unitName}`);
                    }
                });

            }
        } else {
            alert("데이터 셋을 선택해주세요.");
        }
    });

    $('#style_number').on('change', function() {
        let targetStyleNumer = $(this).selectpicker('val');

        let treeData = findNooriDataById(treeId);
        let thisDate = treeData.attr.target_date[targetStyleNumer];

        let dateForLength = thisDate.length;
        let dateOptions = "";
        for (let i=0; i < dateForLength; i++) {
            dateOptions += `<option value="${thisDate[i]}">${thisDate[i]}</option>`;
        }

        $('#start-date').html(dateOptions).selectpicker('refresh');
        $('#end-date').html(dateOptions).selectpicker('refresh');
        $('#start-date').selectpicker('val', thisDate[0]);
        $('#end-date').selectpicker('val', thisDate[0]);

    });

    $('#btn-all-open').button().on('click', function() {
        $treeDiv.jstree('open_all');
    });

    $('#btn-all-close').button().on('click', function() {
        $treeDiv.jstree('close_all');
    });

    let to = false;
    $('#search-input').keyup(function () {
        if (to) {
            clearTimeout(to);
        }
        to = setTimeout(function () {
            let v = $('#search-input').val();
            $treeDiv.jstree(true).search(v);
        }, 100);
    });


</script>
{% endblock %}